{"ast":null,"code":"var _jsxFileName = \"/Users/baraabdullatif/booking-system/frontend/src/App.jsx\",\n  _s = $RefreshSig$();\n// App.jsx\nimport React, { useState } from 'react';\nimport CalendarComponent from './components/Calendar';\nimport TimeSlots from './components/TimeSlots';\nimport BookingForm from './components/BookingForm';\nimport ServiceDetails from './components/ServiceDetails';\nimport BookingConfirmed from './components/Confirmation';\nimport ProgressBar from './components/ProgressBar';\nimport './styles.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [selectedDate, setSelectedDate] = useState(null);\n  const [selectedTimeFrom, setSelectedTimeFrom] = useState('');\n  const [selectedTimeTo, setSelectedTimeTo] = useState('');\n  const [userDetails, setUserDetails] = useState(null);\n  const [serviceDetails, setServiceDetails] = useState(null);\n  const [stage, setStage] = useState(1);\n  const [discountMessage, setDiscountMessage] = useState('');\n  const [discountApplied, setDiscountApplied] = useState(false);\n  const [discount, setDiscount] = useState(0);\n\n  // Calendar date selection handler\n  const handleDateSelect = date => {\n    setSelectedDate(date);\n    setStage(2); // Move to TimeSlots after selecting date\n  };\n\n  // Time slot selection handler\n  const handleTimeSelect = (from, to) => {\n    setSelectedTimeFrom(from);\n    setSelectedTimeTo(to);\n    setStage(3); // Move to BookingForm after selecting time slot\n  };\n\n  // User details form submission handler\n  const handleProceedToService = async details => {\n    const userExists = await checkUserExists(details.email);\n    if (userExists) {\n      setDiscountMessage('Congratulations! You are already in our system and get a 10% discount!');\n      setDiscountApplied(true);\n      setDiscount(10); // Automatically set discount to 10% for returning users\n    } else {\n      setDiscountMessage('');\n      setDiscountApplied(false);\n      setDiscount(0); // Default to 0% discount for new users\n    }\n    setUserDetails(details);\n    setStage(4); // Move to ServiceDetails after form submission\n  };\n\n  // Service details form submission handler\n  const handleConfirmBooking = async serviceDetails => {\n    const discountedAmount = serviceDetails.amount - serviceDetails.amount * (discount / 100); // Apply discount\n\n    const bookingDetails = {\n      ...userDetails,\n      // Combine user details\n      ...serviceDetails,\n      // Combine service details\n      bookingDate: selectedDate.toISOString(),\n      // Format selected date to ISO string\n      timeFrom: selectedTimeFrom,\n      // Include selected time from\n      timeTo: selectedTimeTo,\n      // Include selected time to\n      discount: discount,\n      // Apply discount\n      amount: discountedAmount.toFixed(2) // Update the final amount with discount\n    };\n    setServiceDetails(bookingDetails);\n    setStage(5); // Move to BookingConfirmed (confirmation) stage\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(ProgressBar, {\n      currentStage: stage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), stage === 1 && /*#__PURE__*/_jsxDEV(CalendarComponent, {\n      onDateSelect: handleDateSelect\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 23\n    }, this), stage === 2 && /*#__PURE__*/_jsxDEV(TimeSlots, {\n      onTimeSelect: handleTimeSelect\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 23\n    }, this), stage === 3 && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [discountMessage && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: discountMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 31\n      }, this), /*#__PURE__*/_jsxDEV(BookingForm, {\n        onProceedToService: handleProceedToService\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true), stage === 4 && /*#__PURE__*/_jsxDEV(ServiceDetails, {\n      discount: discount,\n      onConfirmBooking: handleConfirmBooking\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 23\n    }, this), stage === 5 && /*#__PURE__*/_jsxDEV(BookingConfirmed, {\n      bookingDetails: serviceDetails\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 23\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"INklZMSwIeEMon752izMb9RjQwQ=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","CalendarComponent","TimeSlots","BookingForm","ServiceDetails","BookingConfirmed","ProgressBar","jsxDEV","_jsxDEV","Fragment","_Fragment","App","_s","selectedDate","setSelectedDate","selectedTimeFrom","setSelectedTimeFrom","selectedTimeTo","setSelectedTimeTo","userDetails","setUserDetails","serviceDetails","setServiceDetails","stage","setStage","discountMessage","setDiscountMessage","discountApplied","setDiscountApplied","discount","setDiscount","handleDateSelect","date","handleTimeSelect","from","to","handleProceedToService","details","userExists","checkUserExists","email","handleConfirmBooking","discountedAmount","amount","bookingDetails","bookingDate","toISOString","timeFrom","timeTo","toFixed","children","currentStage","fileName","_jsxFileName","lineNumber","columnNumber","onDateSelect","onTimeSelect","onProceedToService","onConfirmBooking","_c","$RefreshReg$"],"sources":["/Users/baraabdullatif/booking-system/frontend/src/App.jsx"],"sourcesContent":["// App.jsx\nimport React, { useState } from 'react';\nimport CalendarComponent from './components/Calendar';\nimport TimeSlots from './components/TimeSlots';\nimport BookingForm from './components/BookingForm';\nimport ServiceDetails from './components/ServiceDetails';\nimport BookingConfirmed from './components/Confirmation';\nimport ProgressBar from './components/ProgressBar';\nimport './styles.css';\n\nfunction App() {\n  const [selectedDate, setSelectedDate] = useState(null);\n  const [selectedTimeFrom, setSelectedTimeFrom] = useState('');\n  const [selectedTimeTo, setSelectedTimeTo] = useState('');\n  const [userDetails, setUserDetails] = useState(null);\n  const [serviceDetails, setServiceDetails] = useState(null);\n  const [stage, setStage] = useState(1);\n  const [discountMessage, setDiscountMessage] = useState('');\n  const [discountApplied, setDiscountApplied] = useState(false);\n  const [discount, setDiscount] = useState(0);\n\n  // Calendar date selection handler\n  const handleDateSelect = (date) => {\n    setSelectedDate(date);\n    setStage(2); // Move to TimeSlots after selecting date\n  };\n\n  // Time slot selection handler\n  const handleTimeSelect = (from, to) => {\n    setSelectedTimeFrom(from);\n    setSelectedTimeTo(to);\n    setStage(3); // Move to BookingForm after selecting time slot\n  };\n\n  // User details form submission handler\n  const handleProceedToService = async (details) => {\n    const userExists = await checkUserExists(details.email);\n    if (userExists) {\n      setDiscountMessage('Congratulations! You are already in our system and get a 10% discount!');\n      setDiscountApplied(true);\n      setDiscount(10); // Automatically set discount to 10% for returning users\n    } else {\n      setDiscountMessage('');\n      setDiscountApplied(false);\n      setDiscount(0); // Default to 0% discount for new users\n    }\n    setUserDetails(details);\n    setStage(4); // Move to ServiceDetails after form submission\n  };\n\n  // Service details form submission handler\n  const handleConfirmBooking = async (serviceDetails) => {\n    const discountedAmount = serviceDetails.amount - (serviceDetails.amount * (discount / 100)); // Apply discount\n\n    const bookingDetails = {\n      ...userDetails, // Combine user details\n      ...serviceDetails, // Combine service details\n      bookingDate: selectedDate.toISOString(), // Format selected date to ISO string\n      timeFrom: selectedTimeFrom, // Include selected time from\n      timeTo: selectedTimeTo, // Include selected time to\n      discount: discount, // Apply discount\n      amount: discountedAmount.toFixed(2), // Update the final amount with discount\n    };\n\n    setServiceDetails(bookingDetails);\n    setStage(5); // Move to BookingConfirmed (confirmation) stage\n  };\n\n  return (\n    <div>\n      {/* Progress Bar at the top */}\n      <ProgressBar currentStage={stage} />\n\n      {/* Render different components based on the stage */}\n      {stage === 1 && <CalendarComponent onDateSelect={handleDateSelect} />}\n      {stage === 2 && <TimeSlots onTimeSelect={handleTimeSelect} />}\n      {stage === 3 && (\n        <>\n          {discountMessage && <p>{discountMessage}</p>}\n          <BookingForm onProceedToService={handleProceedToService} />\n        </>\n      )}\n      {stage === 4 && <ServiceDetails discount={discount} onConfirmBooking={handleConfirmBooking} />}\n      {stage === 5 && <BookingConfirmed bookingDetails={serviceDetails} />}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":";;AAAA;AACA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAOC,iBAAiB,MAAM,uBAAuB;AACrD,OAAOC,SAAS,MAAM,wBAAwB;AAC9C,OAAOC,WAAW,MAAM,0BAA0B;AAClD,OAAOC,cAAc,MAAM,6BAA6B;AACxD,OAAOC,gBAAgB,MAAM,2BAA2B;AACxD,OAAOC,WAAW,MAAM,0BAA0B;AAClD,OAAO,cAAc;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAEtB,SAASC,GAAGA,CAAA,EAAG;EAAAC,EAAA;EACb,MAAM,CAACC,YAAY,EAAEC,eAAe,CAAC,GAAGd,QAAQ,CAAC,IAAI,CAAC;EACtD,MAAM,CAACe,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGhB,QAAQ,CAAC,EAAE,CAAC;EAC5D,MAAM,CAACiB,cAAc,EAAEC,iBAAiB,CAAC,GAAGlB,QAAQ,CAAC,EAAE,CAAC;EACxD,MAAM,CAACmB,WAAW,EAAEC,cAAc,CAAC,GAAGpB,QAAQ,CAAC,IAAI,CAAC;EACpD,MAAM,CAACqB,cAAc,EAAEC,iBAAiB,CAAC,GAAGtB,QAAQ,CAAC,IAAI,CAAC;EAC1D,MAAM,CAACuB,KAAK,EAAEC,QAAQ,CAAC,GAAGxB,QAAQ,CAAC,CAAC,CAAC;EACrC,MAAM,CAACyB,eAAe,EAAEC,kBAAkB,CAAC,GAAG1B,QAAQ,CAAC,EAAE,CAAC;EAC1D,MAAM,CAAC2B,eAAe,EAAEC,kBAAkB,CAAC,GAAG5B,QAAQ,CAAC,KAAK,CAAC;EAC7D,MAAM,CAAC6B,QAAQ,EAAEC,WAAW,CAAC,GAAG9B,QAAQ,CAAC,CAAC,CAAC;;EAE3C;EACA,MAAM+B,gBAAgB,GAAIC,IAAI,IAAK;IACjClB,eAAe,CAACkB,IAAI,CAAC;IACrBR,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;EACf,CAAC;;EAED;EACA,MAAMS,gBAAgB,GAAGA,CAACC,IAAI,EAAEC,EAAE,KAAK;IACrCnB,mBAAmB,CAACkB,IAAI,CAAC;IACzBhB,iBAAiB,CAACiB,EAAE,CAAC;IACrBX,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;EACf,CAAC;;EAED;EACA,MAAMY,sBAAsB,GAAG,MAAOC,OAAO,IAAK;IAChD,MAAMC,UAAU,GAAG,MAAMC,eAAe,CAACF,OAAO,CAACG,KAAK,CAAC;IACvD,IAAIF,UAAU,EAAE;MACdZ,kBAAkB,CAAC,wEAAwE,CAAC;MAC5FE,kBAAkB,CAAC,IAAI,CAAC;MACxBE,WAAW,CAAC,EAAE,CAAC,CAAC,CAAC;IACnB,CAAC,MAAM;MACLJ,kBAAkB,CAAC,EAAE,CAAC;MACtBE,kBAAkB,CAAC,KAAK,CAAC;MACzBE,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC;IAClB;IACAV,cAAc,CAACiB,OAAO,CAAC;IACvBb,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;EACf,CAAC;;EAED;EACA,MAAMiB,oBAAoB,GAAG,MAAOpB,cAAc,IAAK;IACrD,MAAMqB,gBAAgB,GAAGrB,cAAc,CAACsB,MAAM,GAAItB,cAAc,CAACsB,MAAM,IAAId,QAAQ,GAAG,GAAG,CAAE,CAAC,CAAC;;IAE7F,MAAMe,cAAc,GAAG;MACrB,GAAGzB,WAAW;MAAE;MAChB,GAAGE,cAAc;MAAE;MACnBwB,WAAW,EAAEhC,YAAY,CAACiC,WAAW,CAAC,CAAC;MAAE;MACzCC,QAAQ,EAAEhC,gBAAgB;MAAE;MAC5BiC,MAAM,EAAE/B,cAAc;MAAE;MACxBY,QAAQ,EAAEA,QAAQ;MAAE;MACpBc,MAAM,EAAED,gBAAgB,CAACO,OAAO,CAAC,CAAC,CAAC,CAAE;IACvC,CAAC;IAED3B,iBAAiB,CAACsB,cAAc,CAAC;IACjCpB,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;EACf,CAAC;EAED,oBACEhB,OAAA;IAAA0C,QAAA,gBAEE1C,OAAA,CAACF,WAAW;MAAC6C,YAAY,EAAE5B;IAAM;MAAA6B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,EAGnChC,KAAK,KAAK,CAAC,iBAAIf,OAAA,CAACP,iBAAiB;MAACuD,YAAY,EAAEzB;IAAiB;MAAAqB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,EACpEhC,KAAK,KAAK,CAAC,iBAAIf,OAAA,CAACN,SAAS;MAACuD,YAAY,EAAExB;IAAiB;MAAAmB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,EAC5DhC,KAAK,KAAK,CAAC,iBACVf,OAAA,CAAAE,SAAA;MAAAwC,QAAA,GACGzB,eAAe,iBAAIjB,OAAA;QAAA0C,QAAA,EAAIzB;MAAe;QAAA2B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAC5C/C,OAAA,CAACL,WAAW;QAACuD,kBAAkB,EAAEtB;MAAuB;QAAAgB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;IAAA,eAC3D,CACH,EACAhC,KAAK,KAAK,CAAC,iBAAIf,OAAA,CAACJ,cAAc;MAACyB,QAAQ,EAAEA,QAAS;MAAC8B,gBAAgB,EAAElB;IAAqB;MAAAW,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,EAC7FhC,KAAK,KAAK,CAAC,iBAAIf,OAAA,CAACH,gBAAgB;MAACuC,cAAc,EAAEvB;IAAe;MAAA+B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACjE,CAAC;AAEV;AAAC3C,EAAA,CA5EQD,GAAG;AAAAiD,EAAA,GAAHjD,GAAG;AA8EZ,eAAeA,GAAG;AAAC,IAAAiD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}